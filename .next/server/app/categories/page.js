(()=>{var e={};e.id=457,e.ids=[457],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6113:e=>{"use strict";e.exports=require("crypto")},7147:e=>{"use strict";e.exports=require("fs")},1808:e=>{"use strict";e.exports=require("net")},2037:e=>{"use strict";e.exports=require("os")},4074:e=>{"use strict";e.exports=require("perf_hooks")},2781:e=>{"use strict";e.exports=require("stream")},4404:e=>{"use strict";e.exports=require("tls")},9979:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>d.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>l,routeModule:()=>p,tree:()=>o}),s(6093),s(1506),s(5866);var t=s(3191),a=s(8716),i=s(7922),d=s.n(i),n=s(5231),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);s.d(r,c);let o=["",{children:["categories",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,6093)),"/home/runner/workspace/app/categories/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,1506)),"/home/runner/workspace/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],l=["/home/runner/workspace/app/categories/page.tsx"],u="/categories/page",m={require:s,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/categories/page",pathname:"/categories",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},5213:()=>{},229:(e,r,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},6516:(e,r,s)=>{Promise.resolve().then(s.t.bind(s,9404,23))},6093:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>l});var t=s(9510),a=s(7371),i=s(7395),d=s(306),n=s(7745),c=s(1445);async function o(){try{let e=await i.db.select().from(d.categories);return await Promise.all(e.map(async e=>{let r=await i.db.select({cardName:d.creditCards.name,issuerName:d.cardIssuers.name,rate:d.rewardRules.rewardRate,type:d.rewardRules.rewardType,color:d.creditCards.color}).from(d.rewardRules).leftJoin(d.creditCards,(0,n.eq)(d.rewardRules.cardId,d.creditCards.id)).leftJoin(d.cardIssuers,(0,n.eq)(d.creditCards.issuerId,d.cardIssuers.id)).where((0,n.eq)(d.rewardRules.categoryId,e.id)).orderBy((0,c.C)(d.rewardRules.rewardRate)).limit(3);return{...e,topCards:r}}))}catch{return[]}}async function l(){let e=await o();return(0,t.jsxs)("div",{className:"min-h-screen",children:[t.jsx("header",{className:"glass sticky top-0 z-50",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-4 flex items-center justify-between",children:[(0,t.jsxs)(a.default,{href:"/",className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-onecard-purple to-primary-500 flex items-center justify-center font-bold text-xl",children:"OC"}),t.jsx("span",{className:"text-xl font-semibold",children:"OneCard"})]}),(0,t.jsxs)("nav",{className:"flex items-center gap-6",children:[t.jsx(a.default,{href:"/dashboard",className:"hover:text-onecard-purple transition",children:"Dashboard"}),t.jsx(a.default,{href:"/cards",className:"hover:text-onecard-purple transition",children:"My Cards"}),t.jsx(a.default,{href:"/recommend",className:"px-4 py-2 rounded-lg card-gradient hover:opacity-90 transition",children:"Get Recommendation"})]})]})}),(0,t.jsxs)("main",{className:"max-w-7xl mx-auto px-4 py-10",children:[t.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Spending Categories"}),t.jsx("p",{className:"text-gray-400 mb-10",children:"See the best credit cards for each spending category"}),t.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:e.map(e=>(0,t.jsxs)("div",{className:"glass rounded-2xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[t.jsx("div",{className:"text-4xl",children:e.icon}),(0,t.jsxs)("div",{children:[t.jsx("h2",{className:"text-xl font-semibold",children:e.name}),(0,t.jsxs)("p",{className:"text-sm text-gray-400",children:[e.topCards.length," cards with bonus rewards"]})]})]}),e.topCards.length>0?t.jsx("div",{className:"space-y-3",children:e.topCards.map((e,r)=>(0,t.jsxs)("div",{className:`flex items-center justify-between p-4 rounded-xl ${0===r?"bg-onecard-purple/20 border border-onecard-purple/30":"bg-white/5"}`,children:[(0,t.jsxs)("div",{children:[t.jsx("div",{className:"font-medium",children:e.cardName}),t.jsx("div",{className:"text-sm text-gray-400",children:e.issuerName})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("div",{className:`font-bold ${0===r?"text-onecard-purple text-xl":"text-white"}`,children:[e.rate,"cashback"===e.type?"%":"x"]}),t.jsx("div",{className:"text-xs text-gray-400",children:e.type})]})]},r))}):t.jsx("div",{className:"text-center text-gray-400 py-4",children:"No specific bonus cards for this category"})]},e.id))})]})]})}},1506:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>i,metadata:()=>a});var t=s(9510);s(7272);let a={title:"OneCard - Maximize Your Credit Card Rewards",description:"Find the best credit card for every purchase and maximize your rewards",icons:{icon:"/images/favicon.png"}};function i({children:e}){return t.jsx("html",{lang:"en",children:t.jsx("body",{className:"bg-onecard-dark min-h-screen text-white",children:e})})}},7395:(e,r,s)=>{"use strict";s.d(r,{db:()=>c});var t=s(6015),a=s(8937),i=s(306);let d=process.env.DATABASE_URL,n=(0,a.Z)(d),c=(0,t.t)(n,{schema:i})},306:(e,r,s)=>{"use strict";s.r(r),s.d(r,{cardIssuers:()=>m,categories:()=>x,creditCards:()=>p,creditCardsRelations:()=>j,merchants:()=>f,rewardRules:()=>h,rewardRulesRelations:()=>N,userCards:()=>g,userCardsRelations:()=>v,users:()=>u,usersRelations:()=>y});var t=s(8324),a=s(967),i=s(2140),d=s(1575),n=s(3050),c=s(8680),o=s(8748),l=s(3954);let u=(0,t.af)("users",{id:(0,a.Vj)("id").defaultRandom().primaryKey(),email:(0,i.fL)("email").notNull().unique(),name:(0,i.fL)("name"),createdAt:(0,d.AB)("created_at").defaultNow().notNull()}),m=(0,t.af)("card_issuers",{id:(0,a.Vj)("id").defaultRandom().primaryKey(),name:(0,i.fL)("name").notNull(),logo:(0,i.fL)("logo")}),p=(0,t.af)("credit_cards",{id:(0,a.Vj)("id").defaultRandom().primaryKey(),issuerId:(0,a.Vj)("issuer_id").references(()=>m.id),name:(0,i.fL)("name").notNull(),network:(0,i.fL)("network").notNull(),annualFee:(0,n.gH)("annual_fee",{precision:10,scale:2}).default("0"),image:(0,i.fL)("image"),color:(0,i.fL)("color")}),x=(0,t.af)("categories",{id:(0,a.Vj)("id").defaultRandom().primaryKey(),name:(0,i.fL)("name").notNull().unique(),icon:(0,i.fL)("icon"),mccCodes:(0,c.JB)("mcc_codes").$type()}),f=(0,t.af)("merchants",{id:(0,a.Vj)("id").defaultRandom().primaryKey(),name:(0,i.fL)("name").notNull(),domain:(0,i.fL)("domain"),categoryId:(0,a.Vj)("category_id").references(()=>x.id),logo:(0,i.fL)("logo")}),h=(0,t.af)("reward_rules",{id:(0,a.Vj)("id").defaultRandom().primaryKey(),cardId:(0,a.Vj)("card_id").references(()=>p.id).notNull(),categoryId:(0,a.Vj)("category_id").references(()=>x.id),merchantId:(0,a.Vj)("merchant_id").references(()=>f.id),rewardType:(0,i.fL)("reward_type").notNull(),rewardRate:(0,n.gH)("reward_rate",{precision:5,scale:2}).notNull(),maxRewardPerMonth:(0,n.gH)("max_reward_per_month",{precision:10,scale:2}),isRotating:(0,o.O7)("is_rotating").default(!1),startsAt:(0,d.AB)("starts_at"),endsAt:(0,d.AB)("ends_at"),description:(0,i.fL)("description")}),g=(0,t.af)("user_cards",{id:(0,a.Vj)("id").defaultRandom().primaryKey(),userId:(0,a.Vj)("user_id").references(()=>u.id).notNull(),cardId:(0,a.Vj)("card_id").references(()=>p.id).notNull(),nickname:(0,i.fL)("nickname"),lastFour:(0,i.fL)("last_four"),addedAt:(0,d.AB)("added_at").defaultNow().notNull(),isActive:(0,o.O7)("is_active").default(!0)}),y=(0,l.lE)(u,({many:e})=>({userCards:e(g)})),j=(0,l.lE)(p,({one:e,many:r})=>({issuer:e(m,{fields:[p.issuerId],references:[m.id]}),rewardRules:r(h)})),N=(0,l.lE)(h,({one:e})=>({card:e(p,{fields:[h.cardId],references:[p.id]}),category:e(x,{fields:[h.categoryId],references:[x.id]}),merchant:e(f,{fields:[h.merchantId],references:[f.id]})})),v=(0,l.lE)(g,({one:e})=>({user:e(u,{fields:[g.userId],references:[u.id]}),card:e(p,{fields:[g.cardId],references:[p.id]})}))},7272:()=>{}};var r=require("../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[948,471,992,783],()=>s(9979));module.exports=t})();