(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[531],{1351:function(e,s,t){Promise.resolve().then(t.bind(t,8719)),Promise.resolve().then(t.t.bind(t,231,23))},8719:function(e,s,t){"use strict";t.d(s,{RecommendForm:function(){return n}});var a=t(7437),r=t(2265);t(4590);var l=(0,t(8064).$)("174a73ee8a52f5e28443576b5d6c18e2aded3824");function n(e){let{categories:s}=e,[t,n]=(0,r.useState)(""),[d,i]=(0,r.useState)(""),[c,o]=(0,r.useState)("100"),[x,m]=(0,r.useState)(!1),[u,h]=(0,r.useState)(null),[b,p]=(0,r.useState)([]);async function f(e){e.preventDefault(),m(!0);try{let e=await l({merchant:t,categoryId:d,amount:parseFloat(c)});e.bestCard&&(h(e.bestCard),p(e.allOptions||[]))}catch(e){console.error(e)}finally{m(!1)}}return(0,a.jsxs)("div",{children:[(0,a.jsxs)("form",{onSubmit:f,className:"glass rounded-2xl p-8",children:[(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-gray-400 mb-2",children:"Merchant or Store"}),(0,a.jsx)("input",{type:"text",value:t,onChange:e=>n(e.target.value),placeholder:"e.g., Amazon, Starbucks, Costco",className:"w-full px-4 py-3 rounded-xl bg-white/5 border border-white/10 focus:border-onecard-purple focus:outline-none transition"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-gray-400 mb-2",children:"Or Select Category"}),(0,a.jsxs)("select",{value:d,onChange:e=>i(e.target.value),className:"w-full px-4 py-3 rounded-xl bg-white/5 border border-white/10 focus:border-onecard-purple focus:outline-none transition appearance-none",children:[(0,a.jsx)("option",{value:"",children:"Select a category..."}),s.map(e=>(0,a.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{className:"block text-sm text-gray-400 mb-2",children:"Purchase Amount ($)"}),(0,a.jsx)("input",{type:"number",value:c,onChange:e=>o(e.target.value),min:"1",step:"0.01",className:"w-full md:w-48 px-4 py-3 rounded-xl bg-white/5 border border-white/10 focus:border-onecard-purple focus:outline-none transition"})]}),(0,a.jsx)("button",{type:"submit",disabled:x||!t&&!d,className:"w-full py-4 rounded-xl card-gradient font-semibold text-lg hover:opacity-90 transition disabled:opacity-50 disabled:cursor-not-allowed",children:x?"Finding Best Card...":"Get Recommendation"})]}),u&&(0,a.jsxs)("div",{className:"mt-8",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold mb-4 text-center",children:"Best Card for This Purchase"}),(0,a.jsxs)("div",{className:"glass rounded-2xl overflow-hidden max-w-md mx-auto pulse-glow",children:[(0,a.jsxs)("div",{className:"h-48 flex flex-col justify-end p-6",style:{background:u.color||"linear-gradient(135deg, #4a90d9, #8b5cf6)"},children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:u.cardName}),(0,a.jsx)("div",{className:"opacity-80",children:u.issuer})]}),(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between mb-3",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Reward Rate"}),(0,a.jsxs)("span",{className:"text-2xl font-bold text-onecard-purple",children:[u.rewardRate,"x"]})]}),(0,a.jsxs)("div",{className:"flex justify-between mb-3",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Reward Type"}),(0,a.jsx)("span",{className:"font-semibold",children:u.rewardType})]}),(0,a.jsxs)("div",{className:"flex justify-between pt-3 border-t border-white/10",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Estimated Reward"}),(0,a.jsx)("span",{className:"text-xl font-bold text-green-400",children:u.estimatedReward})]})]})]}),b.length>1&&(0,a.jsxs)("div",{className:"mt-8",children:[(0,a.jsx)("h4",{className:"text-lg font-semibold mb-4",children:"Other Options"}),(0,a.jsx)("div",{className:"space-y-3",children:b.slice(1,4).map((e,s)=>(0,a.jsxs)("div",{className:"glass rounded-xl p-4 flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:e.cardName}),(0,a.jsx)("div",{className:"text-sm text-gray-400",children:e.issuer})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"font-bold text-onecard-purple",children:[e.rewardRate,"x"]}),(0,a.jsx)("div",{className:"text-sm text-green-400",children:e.estimatedReward})]})]},s))})]})]})]})}},8064:function(e,s,t){"use strict";Object.defineProperty(s,"$",{enumerable:!0,get:function(){return r}});let a=t(4590);function r(e){let{createServerReference:s}=t(6671);return s(e,a.callServer)}}},function(e){e.O(0,[231,971,23,744],function(){return e(e.s=1351)}),_N_E=e.O()}]);